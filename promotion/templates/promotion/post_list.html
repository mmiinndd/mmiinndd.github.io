{% extends 'community/base.html' %}

{% block head_title %}
    {{ post.title }} - promotion
{% endblock %}

{% block main_area %}
<section>
    <div class="section" id="projects">
        <div class="container">
            <div class="col-md-12">
                <h1 class="fw-bolder text-col size-50"> Promotions</h1>
                <p class="lead fw-normal text-muted">각 브랜드에서 진행하고 있는 다양한 신상품, 세일, 이벤트 정보 등을 제공합니다.</p>
            </div>
        </div>


            <!-- main container -->
            <div class="input-group">
                <form class="find-search-bar-form">
                    <input type="text" class="find-search-bar" placeholder="Search for..." id="search-input">
                    <span class="material-symbols-outlined btn btn-secondary btn-sm" type="button" onclick="searchPost();">확인</span>
                </form>
            </div>



            <div class="main-container portfolio-inner clearfix">

            <select class="option-style1">
                <option>인기순</option>
                <option>최신순</option>
            </select>

<script>
    function searchPost(){
        let searchValue = document.getElementById('search-input').value.trim();
        if (searchValue.length > 1){
            location.href="/blog/search/" + searchValue + "/";
        }
        else{
            alert('검색어가 너무 짧습니다.');
        }
    };

    document.getElementById('search-input').addEventListener('keyup', function(event){
        if(event.key === 'Enter'){
            searchPost();
        }
    });
</script>


    <!-- Page Content -->
    <div class="container">
        <section>
            {% for p in post_list %}
                <!-- Project One -->
                <div class="col">
                    <div class="col-md-7">
                        {% if p.head_image %}
                            <a href="#">
                                <img class="img-fluid rounded mb-3 mb-md-0" src="{{ p.head_image.url }}" width="650" height="300" alt="">
                            </a>
                        {% else %}
                            <a href="#">
                                <img class="img-fluid rounded mb-3 mb-md-0" src="https://picsum.photos/seed/{{ p.id }}/650/300" width="650" height="300" alt="random_image">
                            </a>
                        {% endif %}
</br>
</br>
</br>
                    </div>

                        <div class="col-md-5">
                        <h3 class="fw-bolder text-col mb-3">{{ p.title }}</h3>
                        <h6 class="text-col mb-3">{{ p.get_content_markdown | safe }}</h6>
                        <!-- <a class="btn btn-info btn-xs" type="button" href="#" >view brand</a> --!>

                    </div>
                </div>
                </br>
                </br>
            {% endfor %}

        </section>
    </div>
</br>
<hr>
</br>
</br>

        {% if is_paginated %}
            <!-- Pagination -->
            <ul class="pagination justify-content-center mb-4">
                {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">&larr; Older</a>
                    </li>
                {% else %}
                    <li class="page-item disabled">
                        <a class="page-link" href="#">&larr; Older</a>
                    </li>
                {% endif %}

                {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}">Newer &rarr;</a>
                    </li>
                {% else %}
                    <li class="page-item disabled">
                        <a class="page-link" href="#">Newer &rarr;</a>
                    </li>
                {% endif %}
            </ul>
        {% endif %}

</section>

{% endblock %}


